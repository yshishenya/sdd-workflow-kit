# Upstream Sync (Fork Discipline)

If this repository is a fork, use this guide to keep upstream integration low-drama.

Goal: keep the diff small, keep changes isolated, and make updates reproducible.

---

## Principles

- Prefer additive changes (new files/modules) over editing upstream-owned files.
- When editing upstream-owned files is unavoidable:
  - keep diffs minimal
  - avoid formatting churn
  - document the reason and impact in the PR
- Separate “upstream sync” PRs from “feature work” PRs.

---

## Suggested structure for fork-owned changes

- Put fork-specific logic in clearly namespaced modules/directories.
- Keep patches close to integration points (thin adapters/hooks).

---

## Update procedure (high level)

1. Create a dedicated branch: `chore/upstream-sync-<date>`
2. Merge or rebase upstream changes
3. Resolve conflicts by preserving upstream intent first, then re-applying local hooks
4. Run full test suite
5. Open a PR with:
   - upstream version/commit
   - summary of conflicts and resolutions
   - risk and rollback plan

