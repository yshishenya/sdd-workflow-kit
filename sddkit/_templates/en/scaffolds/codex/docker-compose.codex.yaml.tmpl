services:
  # Optional helper services for Docker-first repos.
  #
  # This file is seeded by sdd-kit (created if missing). Customize freely.

  pytools:
    image: python:3.11-slim
    working_dir: /work
    volumes:
      - ./:/work
      - codex-pytools-pip-cache:/root/.cache/pip
    entrypoint: ["bash", "-lc"]

  # Example: Playwright runner container.
  # Customize to match your app service name and port.
  e2e:
    build:
      context: .
      dockerfile: .codex/e2e.Dockerfile
    working_dir: /work
    environment:
      - PLAYWRIGHT_BASE_URL=http://app:8080
    volumes:
      - ./:/work
      - codex-e2e-node-modules:/work/node_modules
    entrypoint: ["bash", "-lc"]

volumes:
  codex-pytools-pip-cache: {}
  codex-e2e-node-modules: {}

